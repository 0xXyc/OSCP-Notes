---
description: 09/20/2023
---

# 0âƒ£ Address Space Layout Randomization (ASLR)

## Introduction

<mark style="color:yellow;">Address Space Layout Randomization</mark>, or <mark style="color:yellow;">ASLR</mark>, can be explained as being `libc`'s equivalent of <mark style="color:yellow;">PIE</mark>.

<mark style="color:yellow;">Every time you run a binary</mark>, <mark style="color:yellow;">`libc, the stack, and the heap`</mark> <mark style="color:yellow;"></mark><mark style="color:yellow;">will get loaded into a different memory address within your address space</mark>.

### ASLR vs PIE

Also, <mark style="color:green;">if ASLR is enabled</mark>, <mark style="color:red;">but Position Independent Executable (PIE) is not</mark>, you will notice that the ELF executable will _**not**_ change places in memory, it will stay in the same place. But, if PIE is enabled, the ELF binary will be loaded into a new address each runtime.

In other words, ASLR alone will not change the position of the ELF binary.

However, there is one KEY difference between ASLR and PIE.

ASLR is a kernel-based protection. Meanwhile, PIE is a binary-based protection.

<mark style="color:yellow;">ASLR must be configured on the system</mark>, <mark style="color:yellow;">while the binary must be pre-compiled with the PIE memory protection set</mark>.

#### Note:

ASLR is enabled by default on all modern systems and embedded devices. So, it's best to practice with it enabled.

Also, another similarity is that you will NOT be able to get away with hardcoded function addresses in your exploit code like with PIE.

<mark style="color:yellow;">A reliable way of obtaining an ASLR address is by reading the GOT entry of a specific function</mark>.

Due to the nature of address randomization, `libc` base addresses will always end in the hexadecimal characters `000`.

### Enabling and Disabling ASLR

**To disable:**

```
echo 0 | sudo tee /proc/sys/kernel/randomize_va_space
```

**To enable:**

```
echo 2 | sudo tee /proc/sys/kernel/randomize_va_space
```

Remember, this will go back to it's default value of `2` after every reboot.
