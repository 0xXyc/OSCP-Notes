---
description: 09/20/2023
---

# ðŸ¥§ Position Independent Executable (PIE)

## Introduction

The <mark style="color:yellow;">Position Independent Executable</mark>, or <mark style="color:yellow;">PIE</mark> feature, <mark style="color:yellow;">loads executable binaries at random addresses within their own memory space so that the kernel can aid in the disallowance towards text relocation</mark>.&#x20;

This is because <mark style="color:yellow;">attackers will commonly place reoccurring addresses within exploit code</mark>.

This makes attacking the binary slightly more complicated.

In other words, every time that you run the binary, it will get loaded within a different memory address/space.&#x20;

## Attacking Binaries w/ PIE Enabled

The attacker will have to find gadget locations and function addresses manually and utilize their offset to the `binary` base.

Simply put, you will need to <mark style="color:yellow;">simply find a single address and PIE can be bypassed</mark>.

<mark style="color:yellow;">A common technique to bypass PIE is to leak the address off of the stack directly</mark>.

Of course there are other ways as well.

### Note

Due to the way that PIE randomization works, the base address of the binary enabled with the PIE protection will **ALWAYS** end in the hexadecimal characters `000`.

So, ensure that the base address ends in `000` during exploitation.

## Compiling a Binary w/ the PIE Protection

* Specify the `-fpie` option to `gcc` when compiling
* Specify the `-pie` option to `ld` when linking

## Attacking PIE

{% content-ref url="../leaking-bypassing-pie-and-libc-base-ret2system.md" %}
[leaking-bypassing-pie-and-libc-base-ret2system.md](../leaking-bypassing-pie-and-libc-base-ret2system.md)
{% endcontent-ref %}
